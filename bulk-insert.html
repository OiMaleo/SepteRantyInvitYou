<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bulk Insert Tamu</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    textarea { width: 100%; height: 300px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace; }
    button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; margin: 10px 0; }
    button:hover { background: #0056b3; }
    .result { margin-top: 20px; padding: 10px; background: #f8f9fa; border-radius: 4px; }
    .success { color: green; }
    .error { color: red; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Bulk Insert Daftar Tamu</h1>
    <p>Paste daftar nama tamu (satu nama per baris) ke textarea di bawah ini:</p>
    <textarea id="guest-list" placeholder="Bapak Ahmad & Ibu Siti
Keluarga Budi Santoso
Sdr. Rina Wijaya
Dr. Hendro Kusumo"></textarea>
    <br>
    <button onclick="insertGuests()">Tambah ke Daftar Tamu</button>
    <div id="result" class="result"></div>
  </div>

  <script>
    function insertGuests() {
      const textarea = document.getElementById('guest-list');
      const resultDiv = document.getElementById('result');
      const names = textarea.value.trim().split('\n').filter(name => name.trim() !== '');

      if (names.length === 0) {
        resultDiv.innerHTML = '<span class="error">Masukkan minimal satu nama tamu.</span>';
        return;
      }

      // Generate JSON
      const guests = names.map((name, index) => ({
        id: index + 1,
        name: name.trim()
      }));

      const jsonOutput = JSON.stringify(guests, null, 2);

      resultDiv.innerHTML = `
        <div class="success">JSON siap untuk disalin:</div>
        <textarea readonly style="width:100%; height:200px; margin-top:10px;">${jsonOutput}</textarea>
        <br>
        <button onclick="copyToClipboard('${jsonOutput.replace(/"/g, '\\"').replace(/\n/g, '\\n')}')">Salin JSON</button>
        <p style="margin-top:10px; font-size:14px;">Simpan JSON ini sebagai <code>assets/guests.json</code> atau gunakan admin panel untuk menggabungkan dengan daftar yang ada.</p>
      `;
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert('JSON berhasil disalin!');
      });
    }
  </script>
</body>
</html>